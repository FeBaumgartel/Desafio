<html>
    <body>
        <button id="return">return</button> 
        <table id="tabela">
            <thead>
                <th>name</th>
                <th>quantity</th>
                <th>subtotal</th>
            </thead>
            <tbody id="corpo">

            </tbody>
        </table> 
    </body>
</html>

<script src="../js/jquery.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const id = urlParams.get('id')
        axios.get(`http://127.0.0.1:8000/api/orders/${id}/products`).then(function(data){
            data.data.forEach(element => {
                $("#corpo").append(`
                <tr>
                    <td>${element.product.name}</td>
                    <td>${element.quantity}</td>
                    <td>${element.subtotal}</td>
                </tr>`)
            });
        })
    })
    $("#return").click(function(){
        
        window.location = 'list.html';
    })

</script>